常见的服务端推送的通信解决方案

1.基于轮询：
优点：开发简单，客户端实现即可，不需要服务端配合
缺点：大多数情况下无用请求，占用服务端资源
实现方式：客户端每隔一段时间调用接口，无论有没有数据，接口立即返回.
使用场景：不想折腾的开发者，消息及时性要求没那么高，服务器资源资源足。
2.基于长轮询
优点：消息及时，命中率高，消耗服务端资源少
缺点：服务端和客户端需要同时改造，消息会有部分延迟（发生在请求交替之时）
实现方式：客户端在上次请求返回后，在发送下次请求，服务端当有数据或者超时后返回，没有数据时hang住链接（超时时间需要综合考虑服务器性能和及时性做出平衡，有代理的话需要考虑代理对于链接的超时机制）。
使用场景：扫码登录，微信网页端获取消息等。
3.长链接
优点：通信及时，通信模式采用双工，类似于打电话
缺点：服务端和客户端需要同时改造，当链接过多时，消耗服务端资源比较大。
实现方式：客户端和服务端建立长链接，基于http1.1 ,keepalive ,websocket,comet，iframe等，基于socket的需要维持心跳
使用场景：实时性要求很高，银行系统，股票系统等